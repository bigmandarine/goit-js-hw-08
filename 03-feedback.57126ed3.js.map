{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAAO,CACXC,MAAOC,SAASC,cAAc,kBAC9BC,QAASF,SAASC,cAAc,oBAChCE,OAAQH,SAASC,cAAc,mBAGjCH,EAAKK,OAAOC,iBAAiB,SAAS,EAAAR,EAAAS,WAEtC,WACE,MAAMC,EAAW,CACfP,MAAOD,EAAKC,MAAMQ,MAClBL,QAASJ,EAAKI,QAAQK,OAExBC,aAAaC,QARU,sBAQgBC,KAAKC,UAAUL,OAPW,KAUnE,MAQMM,EARO,CAAAC,IACX,IACE,MAAMC,EAAkBN,aAAaO,QAAQF,GAC7C,OAA2B,OAApBC,OAA2BE,EAAYN,KAAKO,MAAMH,GACzD,MAAOI,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,WAGtBC,CAnBE,uBAoBrBT,IACFd,EAAKC,MAAMQ,MAAQK,EAAeb,MAClCD,EAAKI,QAAQK,MAAQK,EAAeV,SAGtCJ,EAAKK,OAAOC,iBAAiB,UAAUkB,IACrCA,EAAIC,iBACJJ,QAAQK,IAAIZ,GACZd,EAAKK,OAAOsB,QACZjB,aAAakB,WA7BU","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  email: document.querySelector('[name=\"email\"]'),\n  massege: document.querySelector('[name=\"message\"]'),\n  formEl: document.querySelector('.feedback-form'),\n};\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nrefs.formEl.addEventListener('input', throttle(setToLocalStorage), 500);\n\nfunction setToLocalStorage() {\n  const formData = {\n    email: refs.email.value,\n    massege: refs.massege.value,\n  };\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n}\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\nconst keyFromStorage = load(LOCALSTORAGE_KEY);\nif (keyFromStorage) {\n  refs.email.value = keyFromStorage.email;\n  refs.massege.value = keyFromStorage.massege;\n}\n\nrefs.formEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  console.log(keyFromStorage);\n  refs.formEl.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n});\n"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$refs","email","document","querySelector","massege","formEl","addEventListener","throttle","formData","value","localStorage","setItem","JSON","stringify","$945622fd0f572e60$var$keyFromStorage","key","serializedState","getItem","undefined","parse","error","console","message","$945622fd0f572e60$var$load","evt","preventDefault","log","reset","removeItem"],"version":3,"file":"03-feedback.57126ed3.js.map"}