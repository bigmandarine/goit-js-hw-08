{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAAO,CACXC,MAAOC,SAASC,cAAc,kBAC9BC,QAASF,SAASC,cAAc,oBAChCE,OAAQH,SAASC,cAAc,mBAE3BG,EAAmB,sBACzBN,EAAKK,OAAOE,iBAAiB,SAAS,EAAAT,EAAAU,WAEtC,WACE,IAAMC,EAAW,CACfR,MAAOD,EAAKC,MAAMS,MAClBN,QAASJ,EAAKI,QAAQM,OAExBC,aAAaC,QAAQN,EAAkBO,KAAKC,UAAUL,OAPW,KAUnE,IAQMM,EARO,SAAAC,GACX,IACE,IAAMC,EAAkBN,aAAaO,QAAQF,GAC7C,OAA2B,OAApBC,OAA2BE,EAAYN,KAAKO,MAAMH,GACzD,MAAOI,GACPC,QAAQD,MAAM,oBAAqBA,EAAME,UAGtBC,CAAKlB,GACxBS,IACFf,EAAKC,MAAMS,MAAQK,EAAed,MAClCD,EAAKI,QAAQM,MAAQK,EAAeX,SAGtCJ,EAAKK,OAAOE,iBAAiB,UAAU,SAAAkB,GACrCA,EAAIC,iBACJJ,QAAQK,IAAIZ,GACZf,EAAKK,OAAOuB,QACZjB,aAAakB,WAAWvB,M","sources":["src/js/03-feedback.js"],"sourcesContent":["import { throttle } from 'lodash';\n\nconst refs = {\n  email: document.querySelector('[name=\"email\"]'),\n  massege: document.querySelector('[name=\"message\"]'),\n  formEl: document.querySelector('.feedback-form'),\n};\nconst LOCALSTORAGE_KEY = 'feedback-form-state';\nrefs.formEl.addEventListener('input', throttle(setToLocalStorage), 500);\n\nfunction setToLocalStorage() {\n  const formData = {\n    email: refs.email.value,\n    massege: refs.massege.value,\n  };\n  localStorage.setItem(LOCALSTORAGE_KEY, JSON.stringify(formData));\n}\n\nconst load = key => {\n  try {\n    const serializedState = localStorage.getItem(key);\n    return serializedState === null ? undefined : JSON.parse(serializedState);\n  } catch (error) {\n    console.error('Get state error: ', error.message);\n  }\n};\nconst keyFromStorage = load(LOCALSTORAGE_KEY);\nif (keyFromStorage) {\n  refs.email.value = keyFromStorage.email;\n  refs.massege.value = keyFromStorage.massege;\n}\n\nrefs.formEl.addEventListener('submit', evt => {\n  evt.preventDefault();\n  console.log(keyFromStorage);\n  refs.formEl.reset();\n  localStorage.removeItem(LOCALSTORAGE_KEY);\n});\n"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$refs","email","document","querySelector","massege","formEl","$b00c40859be242c5$var$LOCALSTORAGE_KEY","addEventListener","throttle","formData","value","localStorage","setItem","JSON","stringify","$b00c40859be242c5$var$keyFromStorage","key","serializedState","getItem","undefined","parse","error","console","message","$b00c40859be242c5$var$load","evt","preventDefault","log","reset","removeItem"],"version":3,"file":"03-feedback.5e643883.js.map"}